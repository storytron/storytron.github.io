const _0x395b7d=_0x2ffd;(function(_0x17f894,_0x469261){const _0x598fa0=_0x2ffd,_0x473d93=_0x17f894();while(!![]){try{const _0x1965a4=-parseInt(_0x598fa0(0xe5))/0x1+-parseInt(_0x598fa0(0xf0))/0x2*(parseInt(_0x598fa0(0xee))/0x3)+-parseInt(_0x598fa0(0x120))/0x4+parseInt(_0x598fa0(0xbd))/0x5+-parseInt(_0x598fa0(0xce))/0x6+parseInt(_0x598fa0(0x112))/0x7*(-parseInt(_0x598fa0(0xd3))/0x8)+-parseInt(_0x598fa0(0x119))/0x9*(-parseInt(_0x598fa0(0xcb))/0xa);if(_0x1965a4===_0x469261)break;else _0x473d93['push'](_0x473d93['shift']());}catch(_0x57947c){_0x473d93['push'](_0x473d93['shift']());}}}(_0x4f09,0x47b84));var storylets=[],storylet,selectedStoryletID,selectedStoryletOrder,editStoryletMode=![],newStoryletMode=![];document['addEventListener'](_0x395b7d(0x11b),function(){const _0x457d09=_0x395b7d;storylets['length']===0x0&&document['getElementById']('edit-storylet')[_0x457d09(0x100)](_0x457d09(0x11e),'');},![]);function Storylet(_0x419b5f,_0xda9ade,_0x2e6a00,_0x33d233,_0x43cb91,_0x48bae0,_0x2012be,_0x3bd9a1,_0xb4ee0c,_0x98fe40,_0x52ff18){const _0x3f4071=_0x395b7d;this['id']=_0x419b5f,this[_0x3f4071(0xd4)]=_0xda9ade,this[_0x3f4071(0x11c)]=_0x2e6a00,this['text']=_0x33d233,this[_0x3f4071(0x121)]=_0x43cb91,this[_0x3f4071(0x102)]=_0x48bae0,this['response_2']=_0x2012be,this[_0x3f4071(0xe0)]=_0x3bd9a1,this['response_3']=_0xb4ee0c,this[_0x3f4071(0xfe)]=_0x98fe40,this[_0x3f4071(0xde)]=_0x52ff18;}function createJson(){}function enabledEditFields(){const _0x343676=_0x395b7d;document[_0x343676(0x109)](_0x343676(0xdd))[_0x343676(0xcd)](_0x343676(0x11e),''),document['getElementById'](_0x343676(0x110))['removeAttribute']('disabled',''),document[_0x343676(0x109)](_0x343676(0xcc))[_0x343676(0xcd)](_0x343676(0x11e),''),document[_0x343676(0x109)](_0x343676(0xed))[_0x343676(0xcd)](_0x343676(0x11e),''),document[_0x343676(0x109)]('storylet-editor-response-2')[_0x343676(0xcd)](_0x343676(0x11e),''),document[_0x343676(0x109)](_0x343676(0xf9))['removeAttribute'](_0x343676(0x11e),''),document[_0x343676(0x109)]('storylet-editor-response-3')[_0x343676(0xcd)](_0x343676(0x11e),''),document[_0x343676(0x109)]('storylet-editor-reaction-3')[_0x343676(0xcd)](_0x343676(0x11e),'');}function disableEditFields(){const _0x1c53a3=_0x395b7d;document[_0x1c53a3(0x109)](_0x1c53a3(0xdd))[_0x1c53a3(0x100)](_0x1c53a3(0x11e),''),document[_0x1c53a3(0x109)](_0x1c53a3(0x110))[_0x1c53a3(0x100)](_0x1c53a3(0x11e),''),document[_0x1c53a3(0x109)]('storylet-editor-response-1')[_0x1c53a3(0x100)](_0x1c53a3(0x11e),''),document[_0x1c53a3(0x109)](_0x1c53a3(0xed))['setAttribute'](_0x1c53a3(0x11e),''),document[_0x1c53a3(0x109)]('storylet-editor-response-2')[_0x1c53a3(0x100)](_0x1c53a3(0x11e),''),document['getElementById'](_0x1c53a3(0xf9))[_0x1c53a3(0x100)]('disabled',''),document['getElementById'](_0x1c53a3(0xd1))[_0x1c53a3(0x100)](_0x1c53a3(0x11e),''),document[_0x1c53a3(0x109)](_0x1c53a3(0x11f))[_0x1c53a3(0x100)](_0x1c53a3(0x11e),'');}function clearEditFields(){const _0x3f21ff=_0x395b7d;document['getElementById'](_0x3f21ff(0xdd))['value']='',document[_0x3f21ff(0x109)](_0x3f21ff(0x110))[_0x3f21ff(0xdb)]='',document[_0x3f21ff(0x109)](_0x3f21ff(0xcc))['value']='',document[_0x3f21ff(0x109)]('storylet-editor-reaction-1')[_0x3f21ff(0xdb)]='',document['getElementById'](_0x3f21ff(0x118))[_0x3f21ff(0xdb)]='',document[_0x3f21ff(0x109)](_0x3f21ff(0xf9))[_0x3f21ff(0xdb)]='',document[_0x3f21ff(0x109)](_0x3f21ff(0xd1))[_0x3f21ff(0xdb)]='',document[_0x3f21ff(0x109)](_0x3f21ff(0x11f))[_0x3f21ff(0xdb)]='';}function newStorylet(){const _0x5ab426=_0x395b7d;document[_0x5ab426(0x109)]('new-storylet')[_0x5ab426(0x100)](_0x5ab426(0x11e),''),document[_0x5ab426(0x109)](_0x5ab426(0xc5))[_0x5ab426(0x100)](_0x5ab426(0x11e),''),document[_0x5ab426(0x109)]('save-storylet')['removeAttribute'](_0x5ab426(0x11e),''),newStoryletMode=!![],editStoryletMode=![],enabledEditFields(),clearEditFields(),storylet=new Storylet();let _0x5d390f=_0x5ab426(0xdf)+(storylets['length']+0x1),_0x52a722=generateRandomID(),_0x3ea44f=generateOrderID();storylet[_0x5ab426(0x11c)]=_0x5d390f,storylet['id']=_0x52a722,storylet[_0x5ab426(0xd4)]=_0x3ea44f,document[_0x5ab426(0x109)](_0x5ab426(0xdd))[_0x5ab426(0xdb)]=_0x5d390f,selectedStoryletId=_0x52a722;}function editStorylet(){const _0x5e35ce=_0x395b7d;document[_0x5e35ce(0x109)](_0x5e35ce(0xc4))['setAttribute'](_0x5e35ce(0x11e),''),document['getElementById'](_0x5e35ce(0xc5))[_0x5e35ce(0x100)](_0x5e35ce(0x11e),''),document[_0x5e35ce(0x109)](_0x5e35ce(0xf6))['removeAttribute']('disabled',''),newStoryletMode=![],editStoryletMode=!![],enabledEditFields();}function saveStorylet(){const _0x5190dd=_0x395b7d;document[_0x5190dd(0x109)](_0x5190dd(0xc4))[_0x5190dd(0xcd)](_0x5190dd(0x11e),''),document['getElementById']('edit-storylet')[_0x5190dd(0xcd)](_0x5190dd(0x11e),''),document[_0x5190dd(0x109)](_0x5190dd(0xf6))[_0x5190dd(0x100)](_0x5190dd(0x11e),''),disableEditFields();if(newStoryletMode===!![]){storylet[_0x5190dd(0x11c)]=document[_0x5190dd(0x109)](_0x5190dd(0xdd))[_0x5190dd(0xdb)],storylet[_0x5190dd(0xd5)]=document[_0x5190dd(0x109)](_0x5190dd(0x110))[_0x5190dd(0xdb)],storylet[_0x5190dd(0x121)]=document['getElementById'](_0x5190dd(0xcc))[_0x5190dd(0xdb)],storylet[_0x5190dd(0x102)]=document[_0x5190dd(0x109)](_0x5190dd(0xed))[_0x5190dd(0xdb)],storylet[_0x5190dd(0x111)]=document['getElementById'](_0x5190dd(0x118))[_0x5190dd(0xdb)],storylet[_0x5190dd(0xe0)]=document[_0x5190dd(0x109)](_0x5190dd(0xf9))[_0x5190dd(0xdb)],storylet[_0x5190dd(0xc0)]=document[_0x5190dd(0x109)]('storylet-editor-response-3')[_0x5190dd(0xdb)],storylet[_0x5190dd(0xfe)]=document[_0x5190dd(0x109)](_0x5190dd(0x11f))[_0x5190dd(0xdb)],storylets[_0x5190dd(0xf4)](storylet);let _0x447e1a=document[_0x5190dd(0x109)](_0x5190dd(0xe1)),_0x86816b=document[_0x5190dd(0x103)]('option');_0x86816b['text']=storylet[_0x5190dd(0x11c)],_0x86816b['id']=selectedStoryletId,_0x86816b['style']['fontSize']='14px',_0x86816b[_0x5190dd(0xc7)]('click',_0x353fb6=>{displaySelectedStorylet(_0x353fb6);}),_0x447e1a[_0x5190dd(0xdc)][_0x5190dd(0xe6)](_0x86816b);}else{if(editStoryletMode===!![]){let _0x716c08=document[_0x5190dd(0x109)](_0x5190dd(0xe1)),_0x448ce2=_0x716c08[_0x5190dd(0xe4)];selectedStoryletId=_0x448ce2['item'](0x0)['id'],storylets[_0x5190dd(0x10d)](_0x1b6c5f=>{const _0x2cc365=_0x5190dd;_0x1b6c5f['id']===selectedStoryletId&&(_0x1b6c5f[_0x2cc365(0x11c)]=document[_0x2cc365(0x109)](_0x2cc365(0xdd))['value'],_0x1b6c5f['text']=document[_0x2cc365(0x109)](_0x2cc365(0x110))[_0x2cc365(0xdb)],_0x1b6c5f[_0x2cc365(0x121)]=document[_0x2cc365(0x109)](_0x2cc365(0xcc))['value'],_0x1b6c5f['reaction_1']=document['getElementById'](_0x2cc365(0xed))[_0x2cc365(0xdb)],_0x1b6c5f[_0x2cc365(0x111)]=document['getElementById'](_0x2cc365(0x118))[_0x2cc365(0xdb)],_0x1b6c5f[_0x2cc365(0xe0)]=document[_0x2cc365(0x109)](_0x2cc365(0xf9))[_0x2cc365(0xdb)],_0x1b6c5f['response_3']=document[_0x2cc365(0x109)](_0x2cc365(0xd1))[_0x2cc365(0xdb)],_0x1b6c5f[_0x2cc365(0xfe)]=document[_0x2cc365(0x109)]('storylet-editor-reaction-3')[_0x2cc365(0xdb)]);}),_0x448ce2['item'](0x0)['text']=document[_0x5190dd(0x109)](_0x5190dd(0xdd))[_0x5190dd(0xdb)];}}previewStorylet();newStoryletMode===!![]&&(newStoryletMode=![]);;editStoryletMode===!![]&&(editStoryletMode=![]);;console[_0x5190dd(0xe9)](storylets),createJson();}function deleteStorylet(){const _0x14c80f=_0x395b7d;let _0x47439a=0x0,_0x2161ef=storylets[_0x14c80f(0x10f)]-0x1;for(let _0x5f0fe1=0x0;_0x5f0fe1<=_0x2161ef;_0x5f0fe1++){if(storylets[_0x5f0fe1]['id']===selectedStoryletID){_0x47439a=storylets[_0x5f0fe1][_0x14c80f(0xd4)],storylets[_0x14c80f(0xea)](_0x5f0fe1,0x1);break;};};_0x2161ef=storylets[_0x14c80f(0x10f)]-0x1;for(let _0x18fbf7=0x0;_0x18fbf7<=_0x2161ef;_0x18fbf7++){storylets[_0x18fbf7][_0x14c80f(0xd4)]>_0x47439a&&(storylets[_0x18fbf7][_0x14c80f(0xd4)]=storylets[_0x18fbf7][_0x14c80f(0xd4)]-0x1);;}clearStoryletFields(),clearPlayerFields(),rebuildStoryletList(_0x14c80f(0x101)),document[_0x14c80f(0x109)]('delete-storylet')['setAttribute'](_0x14c80f(0x11e),'');}function clearPlayerFields(){const _0x38cff2=_0x395b7d;document[_0x38cff2(0x109)]('storylet-player-text')[_0x38cff2(0xd0)]='',document[_0x38cff2(0x109)](_0x38cff2(0xfa))[_0x38cff2(0xd0)]='',document[_0x38cff2(0x109)]('storylet-player-response-2')[_0x38cff2(0xd0)]='',document['getElementById'](_0x38cff2(0xf3))['innerHTML']='';}function previewStorylet(_0x18ec25){storylets['forEach'](_0x53b4a9=>{const _0x657036=_0x2ffd;if(_0x53b4a9['id']===_0x18ec25){let _0x1a3519=_0x53b4a9[_0x657036(0xd5)]['replace'](/\n/g,_0x657036(0x10e));document[_0x657036(0x109)](_0x657036(0xbf))[_0x657036(0xd0)]=_0x1a3519,document[_0x657036(0x109)]('storylet-player-response-1')[_0x657036(0xd0)]=_0x53b4a9[_0x657036(0x121)],document[_0x657036(0x109)](_0x657036(0xc2))[_0x657036(0xd0)]=_0x53b4a9['response_2'],document[_0x657036(0x109)](_0x657036(0xf3))[_0x657036(0xd0)]=_0x53b4a9[_0x657036(0xc0)];};});}function generateRandomID(){const _0x269744=_0x395b7d;return Math[_0x269744(0xc6)]()['toString'](0x24)[_0x269744(0x106)](0x2,0x9);}function generateOrderID(){return storylets['length']+0x1;}function loadSampleStoryworld(){const _0x2faac6=_0x395b7d;clearEditFields(),disableEditFields(),document['getElementById'](_0x2faac6(0xbc))[_0x2faac6(0x100)](_0x2faac6(0x11e),''),document[_0x2faac6(0x109)](_0x2faac6(0xc8))['setAttribute']('disabled',''),document['getElementById']('list-of-storylets')['innerHTML']=null,document[_0x2faac6(0x109)]('player-command-menu')['value']=_0x2faac6(0xe3),previewOrPlay(),fetch(_0x2faac6(0x10a))[_0x2faac6(0xcf)](_0x5c4bba=>{if(!_0x5c4bba['ok'])throw new Error('HTTP\x20Error!\x20Status:\x20$(response.status)');return _0x5c4bba['json']();})['then'](_0x504d9c=>{const _0x3239cd=_0x2faac6;storylets=_0x504d9c;let _0x4aad83=storylets[_0x3239cd(0x10f)],_0x373bd0=document[_0x3239cd(0x109)]('list-of-storylets');for(let _0x3dbfae=0x1;_0x3dbfae<=_0x4aad83;_0x3dbfae++){storylets[_0x3239cd(0x10d)](_0x197d37=>{const _0x5bd720=_0x3239cd;if(_0x197d37[_0x5bd720(0xd4)]===_0x3dbfae){let _0x54d804=document['createElement'](_0x5bd720(0x113));_0x54d804[_0x5bd720(0xd5)]=_0x197d37[_0x5bd720(0x11c)],_0x54d804['id']=_0x197d37['id'],_0x54d804[_0x5bd720(0xe2)]['fontSize']=_0x5bd720(0xfc),_0x54d804[_0x5bd720(0xc7)](_0x5bd720(0x114),_0x5f324c=>{displaySelectedStorylet(_0x5f324c);}),_0x373bd0[_0x5bd720(0xdc)][_0x5bd720(0xe6)](_0x54d804);}});};})['catch'](_0x4b2da2=>console['error'](_0x2faac6(0xc3),_0x4b2da2));}function displaySelectedStorylet(_0x23ab8b){const _0x11f4a5=_0x395b7d;let _0x4bcbb6=document[_0x11f4a5(0x109)]('list-of-storylets'),_0x568bc2=_0x4bcbb6[_0x11f4a5(0xe4)];selectedStoryletID=_0x568bc2[_0x11f4a5(0x116)](0x0)['id'],clearStoryletFields(),storylets[_0x11f4a5(0x10d)](_0x44f85c=>{const _0x16a5c8=_0x11f4a5;_0x44f85c['id']===selectedStoryletID&&(document[_0x16a5c8(0x109)](_0x16a5c8(0xdd))[_0x16a5c8(0xdb)]=_0x44f85c['title'],document[_0x16a5c8(0x109)](_0x16a5c8(0x110))[_0x16a5c8(0xdb)]=_0x44f85c[_0x16a5c8(0xd5)],document[_0x16a5c8(0x109)]('storylet-editor-response-1')[_0x16a5c8(0xdb)]=_0x44f85c[_0x16a5c8(0x121)],document['getElementById'](_0x16a5c8(0xed))[_0x16a5c8(0xdb)]=_0x44f85c[_0x16a5c8(0x102)],document[_0x16a5c8(0x109)](_0x16a5c8(0x118))['value']=_0x44f85c[_0x16a5c8(0x111)],document[_0x16a5c8(0x109)]('storylet-editor-reaction-2')['value']=_0x44f85c[_0x16a5c8(0xe0)],document[_0x16a5c8(0x109)](_0x16a5c8(0xd1))[_0x16a5c8(0xdb)]=_0x44f85c['response_3'],document[_0x16a5c8(0x109)](_0x16a5c8(0x11f))[_0x16a5c8(0xdb)]=_0x44f85c[_0x16a5c8(0xfe)]);;}),previewStorylet(selectedStoryletID);storylets[_0x11f4a5(0x10f)]>0x1&&document[_0x11f4a5(0x109)](_0x11f4a5(0xd8))[_0x11f4a5(0xcd)]('disabled','');;document[_0x11f4a5(0x109)](_0x11f4a5(0xc5))[_0x11f4a5(0xcd)](_0x11f4a5(0x11e),''),selectedStoryletOrder=getSelectedStoryletOrder(selectedStoryletID);let _0x223198=storylets[_0x11f4a5(0x10f)];if(storylets[_0x11f4a5(0x10f)]>0x1){switch(selectedStoryletOrder){case 0x1:document[_0x11f4a5(0x109)](_0x11f4a5(0xbc))[_0x11f4a5(0x100)](_0x11f4a5(0x11e),''),document[_0x11f4a5(0x109)](_0x11f4a5(0xc8))[_0x11f4a5(0xcd)](_0x11f4a5(0x11e),'');break;case _0x223198:document[_0x11f4a5(0x109)](_0x11f4a5(0xbc))['removeAttribute']('disabled',''),document[_0x11f4a5(0x109)](_0x11f4a5(0xc8))['setAttribute']('disabled','');break;default:document[_0x11f4a5(0x109)](_0x11f4a5(0xbc))[_0x11f4a5(0xcd)]('disabled',''),document[_0x11f4a5(0x109)](_0x11f4a5(0xc8))[_0x11f4a5(0xcd)](_0x11f4a5(0x11e),'');};};}function clearStoryletFields(){const _0x3f253d=_0x395b7d;document[_0x3f253d(0x109)]('storylet-editor-title')['value']='',document[_0x3f253d(0x109)](_0x3f253d(0x110))[_0x3f253d(0xdb)]='',document[_0x3f253d(0x109)](_0x3f253d(0xcc))[_0x3f253d(0xdb)]='',document[_0x3f253d(0x109)](_0x3f253d(0xed))[_0x3f253d(0xdb)]='',document[_0x3f253d(0x109)](_0x3f253d(0x118))[_0x3f253d(0xdb)]='',document['getElementById'](_0x3f253d(0xf9))[_0x3f253d(0xdb)]='',document[_0x3f253d(0x109)](_0x3f253d(0xd1))['value']='',document[_0x3f253d(0x109)](_0x3f253d(0x11f))[_0x3f253d(0xdb)]='';}function _0x2ffd(_0x464f31,_0x231f27){const _0x4f0926=_0x4f09();return _0x2ffd=function(_0x2ffd3f,_0x106779){_0x2ffd3f=_0x2ffd3f-0xbc;let _0x1b081a=_0x4f0926[_0x2ffd3f];return _0x1b081a;},_0x2ffd(_0x464f31,_0x231f27);}function getSelectedStoryletOrder(_0x38d6be){let _0x103122=0x0;return storylets['forEach'](_0x1b938d=>{_0x1b938d['id']===_0x38d6be&&(_0x103122=_0x1b938d['order']);;}),_0x103122;}function moveStoryletUp(){const _0x59fed7=_0x395b7d;let _0x2e3c78=selectedStoryletOrder-0x1;storylets[_0x59fed7(0x10d)](_0x37b956=>{const _0x21f2ed=_0x59fed7;_0x37b956[_0x21f2ed(0xd4)]===_0x2e3c78&&(_0x37b956[_0x21f2ed(0xd4)]=_0x37b956[_0x21f2ed(0xd4)]+0x1);;}),storylets[_0x59fed7(0x10d)](_0x1fee64=>{const _0x240786=_0x59fed7;_0x1fee64['id']===selectedStoryletID&&(_0x1fee64[_0x240786(0xd4)]=_0x1fee64[_0x240786(0xd4)]-0x1);;}),rebuildStoryletList(_0x59fed7(0xfd));}function moveStoryletDown(){const _0x2f704b=_0x395b7d;let _0x274a34=selectedStoryletOrder+0x1;storylets[_0x2f704b(0x10d)](_0x3dc230=>{const _0x545d97=_0x2f704b;_0x3dc230[_0x545d97(0xd4)]===_0x274a34&&(_0x3dc230['order']=_0x3dc230[_0x545d97(0xd4)]-0x1);;}),storylets[_0x2f704b(0x10d)](_0x50072b=>{const _0x4d0866=_0x2f704b;_0x50072b['id']===selectedStoryletID&&(_0x50072b[_0x4d0866(0xd4)]=_0x50072b[_0x4d0866(0xd4)]+0x1);;}),rebuildStoryletList(_0x2f704b(0xfd));}function rebuildStoryletList(_0x39d56d){const _0x230bec=_0x395b7d;document[_0x230bec(0x109)]('move-storylet-up')[_0x230bec(0x100)](_0x230bec(0x11e),''),document[_0x230bec(0x109)]('move-storylet-down')[_0x230bec(0x100)]('disabled',''),document['getElementById'](_0x230bec(0xe1))['innerHTML']=null;let _0x5cd747=storylets[_0x230bec(0x10f)],_0x401386=document[_0x230bec(0x109)](_0x230bec(0xe1));for(let _0xf1a8b3=0x1;_0xf1a8b3<=_0x5cd747;_0xf1a8b3++){storylets[_0x230bec(0x10d)](_0x1d1fcf=>{const _0x54f5ad=_0x230bec;if(_0x1d1fcf['order']===_0xf1a8b3){let _0x58c030=document[_0x54f5ad(0x103)]('option');_0x58c030[_0x54f5ad(0xd5)]=_0x1d1fcf['title'],_0x58c030['id']=_0x1d1fcf['id'],_0x58c030[_0x54f5ad(0xe2)][_0x54f5ad(0x107)]='14px',_0x58c030[_0x54f5ad(0xc7)](_0x54f5ad(0x114),_0x3d0e92=>{displaySelectedStorylet(_0x3d0e92);}),_0x401386[_0x54f5ad(0xdc)]['add'](_0x58c030);}});};_0x39d56d===_0x230bec(0xfd)&&(document[_0x230bec(0x109)](selectedStoryletID)[_0x230bec(0x100)](_0x230bec(0xe7),''),document[_0x230bec(0x109)](_0x230bec(0xe1))[_0x230bec(0xe8)](),displaySelectedStorylet());}function downloadStoryworld(){const _0x3090ac=_0x395b7d;let _0x25227e=document[_0x3090ac(0x109)]('storyworld-name')[_0x3090ac(0xdb)][_0x3090ac(0xc1)]();if(_0x25227e[_0x3090ac(0x10f)]>0x0){_0x25227e=_0x25227e[_0x3090ac(0x108)](/ /g,'_')['concat'](_0x3090ac(0xca));let _0xd5bf58=JSON[_0x3090ac(0xd2)](storylets),_0x16aeb8=new Blob([_0xd5bf58],{'type':_0x3090ac(0xbe)}),_0x15c290=document[_0x3090ac(0x103)]('a');_0x15c290[_0x3090ac(0xd7)]=URL[_0x3090ac(0xef)](_0x16aeb8),_0x15c290['download']=_0x25227e,_0x15c290[_0x3090ac(0x114)](),URL[_0x3090ac(0x10c)](_0x15c290[_0x3090ac(0xd7)]);}else alert(_0x3090ac(0x117));;}function uploadStoryworld(){const _0x283f9f=_0x395b7d;clearEditFields(),disableEditFields(),document[_0x283f9f(0x109)](_0x283f9f(0xbc))[_0x283f9f(0x100)](_0x283f9f(0x11e),''),document['getElementById'](_0x283f9f(0xc8))[_0x283f9f(0x100)](_0x283f9f(0x11e),''),document['getElementById']('list-of-storylets')[_0x283f9f(0xd0)]=null,document[_0x283f9f(0x109)](_0x283f9f(0xfb))[_0x283f9f(0xdb)]=_0x283f9f(0xe3),previewOrPlay();let _0x2660f1='',_0x5e9ab3=document[_0x283f9f(0x103)]('input');_0x5e9ab3[_0x283f9f(0x11d)]=_0x283f9f(0xd9),_0x5e9ab3[_0x283f9f(0x104)]=_0x1e09ce=>{const _0x2e2c5=_0x283f9f;let _0x4d9e8c=_0x1e09ce[_0x2e2c5(0xf8)][_0x2e2c5(0xd6)][0x0],_0x42c3ad=new FileReader();_0x42c3ad['readAsText'](_0x4d9e8c,'UTF-8'),_0x42c3ad['onload']=_0x2e2fb6=>{const _0xa4f6da=_0x2e2c5;_0x2660f1=_0x2e2fb6[_0xa4f6da(0xf8)][_0xa4f6da(0x11a)],storylets=JSON[_0xa4f6da(0x105)](_0x2660f1),console['log'](storylets);let _0x20c0e6=storylets['length'],_0x3eaab7=document['getElementById']('list-of-storylets');for(let _0x37af76=0x1;_0x37af76<=_0x20c0e6;_0x37af76++){storylets[_0xa4f6da(0x10d)](_0x2b4148=>{const _0x2796fe=_0xa4f6da;if(_0x2b4148[_0x2796fe(0xd4)]===_0x37af76){let _0x20cc2c=document[_0x2796fe(0x103)]('option');_0x20cc2c[_0x2796fe(0xd5)]=_0x2b4148[_0x2796fe(0x11c)],_0x20cc2c['id']=_0x2b4148['id'],_0x20cc2c[_0x2796fe(0xe2)]['fontSize']=_0x2796fe(0xfc),_0x20cc2c['addEventListener'](_0x2796fe(0x114),_0x2e35ad=>{displaySelectedStorylet(_0x2e35ad);}),_0x3eaab7[_0x2796fe(0xdc)][_0x2796fe(0xe6)](_0x20cc2c);}});};};},_0x5e9ab3[_0x283f9f(0x114)]();}function previewOrPlay(){const _0x866bb2=_0x395b7d;let _0x6d1a5c=document[_0x866bb2(0x109)](_0x866bb2(0xfb))[_0x866bb2(0xdb)];switch(_0x6d1a5c){case _0x866bb2(0xe3):document[_0x866bb2(0x109)]('player-title')[_0x866bb2(0xf5)]='STORYLET\x20PREVIEW',document[_0x866bb2(0x109)](_0x866bb2(0xe1))[_0x866bb2(0xcd)]('disabled',''),clearPlayerFields(),previewStorylet(selectedStoryletID);break;case _0x866bb2(0xf2):document[_0x866bb2(0x109)](_0x866bb2(0xda))[_0x866bb2(0xf5)]=_0x866bb2(0x115),document[_0x866bb2(0x109)](_0x866bb2(0xe1))['setAttribute']('disabled',''),document['getElementById']('list-of-storylets')[_0x866bb2(0xdb)]='',clearEditFields(),clearPlayerFields(),selectedStoryletID='',playStoryworld();break;default:};}function _0x4f09(){const _0x54e474=['innerHTML','storylet-editor-response-3','stringify','16712DixQOf','order','text','files','href','delete-storylet','file','player-title','value','options','storylet-editor-title','next','New\x20Storylet\x20','reaction_2','list-of-storylets','style','Preview','selectedOptions','481104jjcubt','add','selected','focus','log','splice','display:none','onclick','storylet-editor-reaction-1','534771fUpzGW','createObjectURL','2dijZwX','slice','Play','storylet-player-response-3','push','innerText','save-storylet','setTimeout','target','storylet-editor-reaction-2','storylet-player-response-1','player-command-menu','14px','after-move','reaction_3','player-messages','setAttribute','after-delete','reaction_1','createElement','onchange','parse','substring','fontSize','replace','getElementById','./sampleStorylets.json','next-link','revokeObjectURL','forEach','<br>','length','storylet-editor-text','response_2','98fvgGtI','option','click','STORYWORLD\x20PLAYER','item','Please\x20provide\x20a\x20name\x20for\x20your\x20storyworld.\x0a\x0aNote:\x20Use\x20only\x20alphanumeric\x20characters\x20and\x20spaces\x20in\x20the\x20name.','storylet-editor-response-2','58644NeszzU','result','DOMContentLoaded','title','type','disabled','storylet-editor-reaction-3','658552xUIZEP','response_1','move-storylet-up','52900LwEWuv','text/plain','storylet-player-text','response_3','trim','storylet-player-response-2','Unable\x20to\x20fetch\x20data:','new-storylet','edit-storylet','random','addEventListener','move-storylet-down','reaction_','.json','1970JFjYIA','storylet-editor-response-1','removeAttribute','883338kBUVmg','then'];_0x4f09=function(){return _0x54e474;};return _0x4f09();}function playStoryworld(){const _0x48cc73=_0x395b7d;if(document['getElementById'](_0x48cc73(0xfb))[_0x48cc73(0xdb)]===_0x48cc73(0xe3))return;var _0x32cdda='',_0x32530b;let _0x1de282=0x1,_0x2e3765=storylets[_0x48cc73(0x10f)],_0x501263=document[_0x48cc73(0x109)](_0x48cc73(0xbf)),_0x1544a4=document[_0x48cc73(0x109)](_0x48cc73(0xfa)),_0x4172f8=document[_0x48cc73(0x109)](_0x48cc73(0xc2)),_0x190329=document[_0x48cc73(0x109)](_0x48cc73(0xf3));_0x1544a4[_0x48cc73(0xec)]=function(){_0x519dd5(_0x1544a4);},_0x4172f8[_0x48cc73(0xec)]=function(){_0x519dd5(_0x4172f8);},_0x190329[_0x48cc73(0xec)]=function(){_0x519dd5(_0x190329);};let _0x20c9f2=document[_0x48cc73(0x109)](_0x48cc73(0x10b));_0x20c9f2[_0x48cc73(0xec)]=function(){_0xd38d08();},_0x235252(_0x1de282);function _0x235252(_0xf4769e){const _0x137391=_0x48cc73;_0x32530b=!![];_0xf4769e<=_0x2e3765?(_0x32cdda=_0x3dff63(_0xf4769e),clearPlayerFields(),previewStorylet(_0x32cdda),window[_0x137391(0xf7)](function(){_0x32530b=!![],_0xe1ce58();},0x3e8)):(clearPlayerFields(),document[_0x137391(0x109)](_0x137391(0xff))[_0x137391(0xd0)]='THE\x20STORYWORLD\x20HAS\x20FINISHED.',window[_0x137391(0xf7)](function(){const _0x52f3c7=_0x137391;document[_0x52f3c7(0x109)](_0x52f3c7(0xff))[_0x52f3c7(0xd0)]='';},0x1388));;};function _0xe1ce58(){!_0x32530b&&(_0x1de282=_0x1de282+0x1,_0x235252(_0x1de282),_0x32530b=!_0x32530b);;}function _0x3dff63(_0x46f87c){let _0x1c1ca6='';return storylets['forEach'](_0xdd2a0e=>{const _0x58c6eb=_0x2ffd;_0xdd2a0e[_0x58c6eb(0xd4)]===_0x46f87c&&(_0x1c1ca6=_0xdd2a0e['id']);}),_0x1c1ca6;}function _0x519dd5(_0x295b70){const _0x25508e=_0x48cc73;_0x32530b=!_0x32530b;let _0x38f89=_0x772532(_0x295b70);_0x38f89[_0x25508e(0x10f)]>0x0?(_0x1544a4[_0x25508e(0xd0)]='',_0x4172f8['innerHTML']='',_0x190329['innerHTML']='',_0x501263[_0x25508e(0xd0)]=_0x38f89,document['getElementById'](_0x25508e(0x10b))['removeAttribute']('style')):!_0x32530b&&_0xe1ce58();}function _0x772532(_0x223bf9){const _0x1d2afd=_0x48cc73;let _0x5b2a1f=_0x223bf9['id'][_0x1d2afd(0xf1)](-0x1),_0x33057a=_0x1d2afd(0xc9)+_0x5b2a1f,_0x39419f='';return storylets[_0x1d2afd(0x10d)](_0x426613=>{const _0x16a6cd=_0x1d2afd;if(_0x426613[_0x16a6cd(0xd4)]===_0x1de282)switch(_0x33057a){case _0x16a6cd(0x102):_0x39419f=_0x426613[_0x16a6cd(0x102)]['trim']();break;case _0x16a6cd(0xe0):_0x39419f=_0x426613[_0x16a6cd(0xe0)][_0x16a6cd(0xc1)]();break;case _0x16a6cd(0xfe):_0x39419f=_0x426613[_0x16a6cd(0xfe)][_0x16a6cd(0xc1)]();break;default:}}),_0x39419f;}function _0xd38d08(){const _0x1900de=_0x48cc73;pause=!_0x32530b,document[_0x1900de(0x109)]('next-link')[_0x1900de(0x100)](_0x1900de(0xe2),_0x1900de(0xeb)),!_0x32530b&&_0xe1ce58();}}